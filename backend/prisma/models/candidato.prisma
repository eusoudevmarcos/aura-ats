model Candidato {
    id       String   @id @default(uuid(7))
    corem    String?
    rqe      String?
    crm      String[] // Sigla do estado na frente
    contatos String[]
    emails   String[]
    links    String[]

    areaCandidato   AreaCandidato
    candidaturaVaga CandidaturaVaga[]
    formacoes       Formacao[]
    anexos          CandidatoAnexo[]

    // Especialidade para MÃ©dicos
    especialidade   Especialidade? @relation(fields: [especialidadeId], references: [id])
    especialidadeId Int?

    pessoa   Pessoa @relation(fields: [pessoaId], references: [id])
    pessoaId String @unique

    @@index([especialidadeId])
    @@schema("Candidato")
}

model Especialidade {
    id        Int         @id @default(autoincrement())
    nome      String      @unique
    sigla     String
    candidato Candidato[]

    @@schema("Especialidade")
}

model Formacao {
    id                   String    @id @default(uuid(7))
    instituicao          String?   @default("A definir")
    curso                String?   @default("A definir")
    dataInicio           DateTime?
    dataFim              DateTime?
    dataInicioResidencia DateTime?
    dataFimResidencia    DateTime?

    candidato   Candidato? @relation(fields: [candidatoId], references: [id])
    candidatoId String?

    @@index([candidatoId])
    @@schema("Formacao")
}

model CandidatoAnexo {
    candidato   Candidato @relation(fields: [candidatoId], references: [id], onDelete: Cascade)
    candidatoId String

    anexo   Anexo  @relation(fields: [anexoId], references: [id])
    anexoId String

    @@id([candidatoId, anexoId])
    @@index([anexoId])
    @@schema("Candidato")
}

// model CandidatoHabilidade {
//   candidatoId     String
//   habilidadeId    String
//   nivel           String?
//   experienciaAnos Int?
//   candidato       Candidato  @relation(fields: [candidatoId], references: [id])
//   habilidade      Habilidade @relation(fields: [habilidadeId], references: [id])
//
//   @@id([candidatoId, habilidadeId])
// }
